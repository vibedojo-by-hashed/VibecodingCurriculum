# Chapter 07: 컨텍스트와 메모리

[English](./README.md) | **한국어**

---

## 💬 질문하기

학습 중 궁금한 점이 있으면 디스코드에서 질문하세요!

[![Discord](https://img.shields.io/badge/Discord-질문하기-5865F2?style=for-the-badge&logo=discord&logoColor=white)](https://discord.gg/TxbJ56hS94)

---

## 🎯 이 챕터의 목표

- 컨텍스트(맥락)의 **개념과 작동 원리** 깊이 이해하기
- CLAUDE.md 파일 **베스트 프랙티스** 배우기
- `#` 접두사로 메모리에 저장하는 법 배우기
- **메모리 한계**와 효과적인 **대처법** 익히기
- 효과적인 **대화 관리 전략** 마스터하기

---

## ⏱️ 예상 소요 시간

- 읽기: **30분**
- 실습: **30분**

---

## 📋 필요한 것

- Claude Code 설치 및 로그인 완료
- 프로젝트 구조 이해 (Chapter 06)

---

## 🔗 이전 챕터와의 연결

Chapter 06에서 프로젝트 구조를 배웠습니다. 이제 Claude가 그 구조를 **기억**하고, 우리의 프로젝트 규칙을 **이해**하도록 만드는 방법을 배워봅시다. 이것이 바로 "컨텍스트"의 핵심입니다.

---

## 왜 컨텍스트가 중요합니까?

Claude와 대화할 때, Claude는 지금까지의 대화 내용을 기억합니다. 하지만 새 대화를 시작하면 모든 것을 잊어버립니다. 매번 프로젝트에 대해 다시 설명해야 한다면 비효율적입니다.

**실제 상황:**
- 어제 Claude에게 설명한 프로젝트 규칙을 오늘 다시 설명해야 한다
- Claude가 프로젝트 스타일과 다르게 코드를 작성한다
- 이 프로젝트에서 항상 지켜야 할 규칙이 있는데, 매번 말해야 한다
- 대화가 길어지면 앞에서 한 말을 Claude가 잊어버린다

### 쉬운 비유: 비서에게 주는 업무 매뉴얼

새 비서가 올 때마다 모든 것을 처음부터 설명하는 것은 비효율적입니다. 대신 업무 매뉴얼을 만들어 놓으면, 비서가 바뀌어도 매뉴얼만 읽으면 됩니다.

`CLAUDE.md` 파일이 바로 이 매뉴얼입니다. Claude가 프로젝트를 열 때마다 자동으로 읽습니다.

> 💡 **비전공자 팁**
>
> 컨텍스트는 **대화의 배경 지식**입니다.
> 친구에게 "우리 그 카페 가자"라고 할 수 있는 건,
> 친구가 어떤 카페인지 이미 알고 있기 때문이에요.
>
> Claude도 마찬가지입니다. 컨텍스트가 있어야 더 정확한 답을 줄 수 있어요.

---

## AI 컨텍스트의 작동 원리

### LLM이 "기억"하는 방식

LLM(Large Language Model)은 실제로 "기억"하는 게 아닙니다. 매번 대화 내용 전체를 다시 읽고 응답합니다.

```
[시스템 프롬프트]
[CLAUDE.md 내용]        ← 자동으로 로드됨
[이전 대화 내용들...]    ← 모든 대화가 누적됨
[현재 질문]
```

**중요한 점:**
- 모든 대화가 "컨텍스트 윈도우"라는 공간에 쌓입니다
- 이 공간에는 **한계**가 있습니다 (토큰 제한)
- 공간이 가득 차면 오래된 내용부터 잊어버립니다

> 🔥 **프로 팁**
>
> Claude의 컨텍스트 윈도우는 약 **200,000 토큰**입니다.
> 한글 기준 대략 **5-10만 글자** 정도예요.
>
> 많아 보이지만, 대화가 길어지거나 큰 파일을 참조하면 금방 차게 됩니다.

### 토큰이란?

토큰은 AI가 텍스트를 처리하는 단위입니다.

#### 쉬운 비유: 레고 블록

```
┌─────────────────────────────────────────────────────────────────┐
│                    토큰 = 레고 블록                               │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  문장: "안녕하세요, 반갑습니다!"                                   │
│                                                                 │
│  AI가 보는 방식:                                                 │
│  ┌────┐ ┌────┐ ┌────┐ ┌────┐ ┌────┐                            │
│  │안녕│ │하세│ │요, │ │반갑│ │습니다!│  ← 약 5개의 토큰           │
│  └────┘ └────┘ └────┘ └────┘ └────┘                            │
│                                                                 │
│  레고로 집을 만들 때 블록 개수에 제한이 있듯이,                      │
│  AI도 한 번에 처리할 수 있는 토큰 수에 제한이 있습니다.              │
│                                                                 │
│  더 많은 토큰 = 더 많은 비용 + 더 긴 처리 시간                      │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

> 💡 **비전공자 팁**
>
> 토큰을 **"AI의 읽기 단위"**라고 생각하세요.
>
> 우리가 글을 읽을 때 단어 단위로 읽듯이,
> AI는 토큰 단위로 텍스트를 처리합니다.
>
> 한글은 영어보다 토큰을 더 많이 씁니다.
> "Hello"는 1토큰이지만, "안녕하세요"는 2-3토큰이에요.

| 예시 | 대략적 토큰 수 |
|------|--------------|
| "안녕하세요" | 2-3 토큰 |
| 한 문장 (20자) | 5-10 토큰 |
| 한 문단 (100자) | 25-50 토큰 |
| 1,000자 코드 | 300-500 토큰 |
| 평균적인 파일 | 500-2,000 토큰 |

**왜 토큰 수가 중요한가요?**

1. **비용**: 토큰을 많이 쓸수록 비용이 올라갑니다
2. **속도**: 토큰이 많으면 응답이 느려집니다
3. **한계**: 컨텍스트 윈도우(약 20만 토큰)를 넘으면 오래된 내용을 잊어버립니다

### 컨텍스트의 종류

| 종류 | 설명 | 예시 | 지속성 |
|------|------|------|--------|
| **대화 컨텍스트** | 현재 대화에서 나눈 내용 | "아까 만든 버튼에..." | 대화 종료 시 사라짐 |
| **파일 컨텍스트** | `@`로 참조한 파일 내용 | "@src/app.js" | 해당 대화에서만 |
| **프로젝트 컨텍스트** | CLAUDE.md 파일 | 프로젝트 규칙 | 매번 자동 로드 |
| **메모리 컨텍스트** | `#`으로 저장한 내용 | "# TypeScript 사용" | 영구 저장 |

---

## CLAUDE.md 파일 심층 가이드

`CLAUDE.md`는 Claude가 프로젝트를 열 때 자동으로 읽는 특별한 파일입니다.

### 위치와 우선순위

```
my-project/
├── CLAUDE.md         ← 프로젝트 전용 (가장 높은 우선순위)
├── src/
├── package.json
└── ...

~/.claude/
└── CLAUDE.md         ← 전역 설정 (모든 프로젝트에 적용)
```

**우선순위**: 프로젝트 CLAUDE.md > 전역 CLAUDE.md

### CLAUDE.md 베스트 프랙티스

#### 1. 기본 구조

```markdown
# 프로젝트 가이드

## 프로젝트 소개
이 프로젝트는 할 일 관리 웹앱입니다.
사용자가 할 일을 추가, 수정, 삭제할 수 있습니다.

## 기술 스택
- React 18
- TypeScript 5.0
- Tailwind CSS 3.4
- Next.js 14 (App Router)

## 코딩 규칙
- 함수형 컴포넌트만 사용
- 한국어 주석 필수
- 변수명은 camelCase
- 컴포넌트명은 PascalCase
- 파일당 하나의 컴포넌트

## 폴더 구조
- src/components: UI 컴포넌트
- src/app: 페이지 라우팅
- src/hooks: 커스텀 훅
- src/lib: 유틸리티 함수

## 금지 사항
- class 컴포넌트 사용 금지
- any 타입 사용 금지
- console.log 남기지 않기 (디버깅 후 삭제)
- 인라인 스타일 금지

## 선호 패턴
- 에러 처리는 try-catch 사용
- API 호출은 src/lib/api.ts에서 관리
- 상태 관리는 React Query 사용
```

> 💡 **비전공자 팁**
>
> CLAUDE.md는 **Claude에게 보내는 편지**라고 생각하세요.
> "이 프로젝트는 이렇게 작업해줘"라는 요청서입니다.
>
> 처음에는 간단하게 시작하고, 필요할 때마다 추가하면 됩니다.

#### 2. 효과적인 규칙 작성법

**모호한 규칙 (나쁜 예):**
```markdown
- 코드를 깔끔하게 써주세요
- 좋은 변수명을 사용해주세요
- 에러 처리를 잘 해주세요
```

**구체적인 규칙 (좋은 예):**
```markdown
- 함수는 20줄 이내로 유지
- 변수명은 역할을 설명하는 이름 사용 (예: userEmail, isLoading)
- 모든 API 호출은 try-catch로 감싸고, 에러 시 사용자에게 toast 알림
```

> ⚠️ **주의사항**
>
> **규칙이 너무 많으면 오히려 역효과!**
>
> - 규칙 100개 → Claude가 혼란스러워함
> - 규칙 10-15개 → 핵심만 명확하게
>
> **우선순위**: 가장 중요한 규칙을 위에 배치하세요.

#### 3. 상황별 CLAUDE.md 예시

**개인 프로젝트용 (간단)**
```markdown
# My Blog

## 기술
- Next.js 14, TypeScript, Tailwind

## 규칙
- 한국어 주석
- 함수형 컴포넌트
- 파일명은 kebab-case

## 메모
- 디자인은 미니멀하게
- 다크모드 지원 필요
```

**팀 프로젝트용 (상세)**
```markdown
# E-Commerce Platform

## 프로젝트 개요
B2C 쇼핑몰 플랫폼. 상품 검색, 장바구니, 결제 기능 제공.

## 팀 컨벤션
- 브랜치 네이밍: feature/기능명, fix/버그명
- 커밋 메시지: [TYPE] 설명 (예: [FEAT] 장바구니 추가)
- PR 템플릿 필수 사용

## 아키텍처
- 프론트엔드: Next.js 14 App Router
- 백엔드: API Routes + Prisma
- 데이터베이스: PostgreSQL
- 인증: NextAuth.js

## 폴더 구조
src/
├── app/           # 페이지 라우팅
├── components/    # UI 컴포넌트
│   ├── common/    # 공통 (Button, Modal 등)
│   └── features/  # 기능별 (Cart, Product 등)
├── hooks/         # 커스텀 훅
├── lib/           # 유틸리티
├── types/         # TypeScript 타입
└── styles/        # 전역 스타일

## 코딩 규칙
- TypeScript strict 모드 사용
- 컴포넌트는 export default 사용
- 훅은 use 접두사 (useCart, useAuth)
- API 함수는 동사로 시작 (fetchProducts, createOrder)

## 금지
- any 타입 사용 금지
- 하드코딩된 문자열 금지 (상수 파일 사용)
- 직접적인 DOM 조작 금지

## 테스트
- 중요 비즈니스 로직은 테스트 필수
- 테스트 파일은 __tests__ 폴더에
- 네이밍: 파일명.test.ts

## 참고 문서
- API 문서: /docs/api.md
- 디자인 시스템: Figma 링크
```

---

## # 접두사로 메모리에 저장

`#` 접두사를 사용하면 Claude의 메모리에 정보를 저장할 수 있습니다.

### 사용법

```
> # 이 프로젝트는 TypeScript를 사용해
```

```
> # 항상 한국어로 대답해
```

```
> # 코드에 주석을 꼭 달아줘
```

### 저장 위치와 확인

`#`으로 저장한 내용은 `CLAUDE.md` 파일에 자동으로 추가됩니다.

```
> # 버튼 컴포넌트는 항상 Tailwind로 스타일링

CLAUDE.md에 저장되었습니다:
"버튼 컴포넌트는 항상 Tailwind로 스타일링"
```

확인하기:
```
> @CLAUDE.md 내용 보여줘
```

### 효과적인 메모리 사용 패턴

**즉석에서 규칙 추가**
```
# 작업하다가 깨달은 규칙을 바로 저장
> # 이 프로젝트에서 날짜는 항상 YYYY-MM-DD 형식으로
```

**프로젝트 선호도 저장**
```
> # 아이콘은 Lucide React 사용
> # 폼 검증은 Zod 사용
> # 상태 관리는 Zustand 사용
```

**작업 맥락 저장**
```
> # 현재 장바구니 기능 개발 중
> # 다음 작업: 결제 연동
```

> 🔥 **프로 팁**
>
> `#` 문법은 **즉시 저장**이 필요할 때 사용하세요.
> 프로젝트 설정처럼 변하지 않는 규칙은 CLAUDE.md에 직접 작성하는 게 좋습니다.
>
> **사용 구분:**
> - 즉석 메모 → `# 접두사`
> - 체계적인 규칙 → CLAUDE.md 직접 편집

---

## 메모리 한계와 대처법

### 컨텍스트 윈도우가 가득 찰 때

대화가 길어지면 오래된 내용이 잘려나갑니다. 이를 인지하고 대처해야 합니다.

**증상:**
- Claude가 아까 말한 내용을 모름
- 같은 실수를 반복함
- "무슨 얘기였죠?"라고 되묻는 것 같은 느낌

**대처법:**

#### 1. 핵심 내용 다시 언급하기

```
> 우리가 만드는 건 할 일 목록 앱이고,
> React + TypeScript를 쓰고 있어.
> 지금은 삭제 기능을 추가하고 있어.
> 아까 만든 deleteTodo 함수에 확인 모달 추가해줘.
```

#### 2. 새 대화 시작하기

완전히 새로운 작업이라면:
```
> /clear
```

이전 대화 내용을 지우고 새로 시작합니다.

#### 3. 요약 요청하기

```
> 아까 우리가 뭘 하고 있었는지 요약해줘
```

Claude가 기억하는 내용을 확인할 수 있습니다.

### 효율적인 컨텍스트 사용법

| 상황 | 권장 방법 |
|------|----------|
| 짧은 작업 | 한 대화에서 완료 |
| 긴 작업 | 단계별로 나누어 진행 |
| 여러 기능 개발 | 기능별로 새 대화 시작 |
| 버그 수정 | 관련 파일만 `@`로 참조 |

> 💡 **비전공자 팁**
>
> **대화를 "작업 단위"로 생각하세요.**
>
> - 로그인 기능 만들기 → 하나의 대화
> - 회원가입 기능 만들기 → 새 대화
> - 디자인 수정 → 새 대화
>
> 이렇게 하면 각 대화가 집중되고, 맥락을 잃을 일이 줄어듭니다.

---

## 효과적인 대화 관리 전략

### 1. 새 대화 시작할 때

프로젝트에 처음 들어오면 CLAUDE.md가 자동으로 로드됩니다.
추가로 필요한 맥락이 있으면 대화 초반에 알려주세요:

```
> 지금 로그인 기능을 작업 중이야.
> @src/auth/login.js 이 파일을 수정하고 있어.
> 저번에 기본 폼은 만들었고, 오늘은 검증 로직 추가할 거야.
```

### 2. 대화가 길어질 때

대화가 길어지면 Claude가 초반 내용을 잊을 수 있습니다.

**방법 1: 요약 요청**
```
> 아까 말한 요구사항 다시 정리해줘
```

**방법 2: 핵심 재확인**
```
> 우리가 만드는 건 할 일 목록 앱이고,
> 지금은 삭제 기능을 추가하고 있어.
> 삭제 전 확인 모달 띄우는 거 해줘.
```

**방법 3: 중간 정리**
```
> 지금까지 한 거 정리해줘:
> 1. 어떤 파일 만들었는지
> 2. 어떤 기능 구현했는지
> 3. 다음에 뭘 해야 하는지
```

### 3. 작업 전환할 때

완전히 다른 작업으로 넘어갈 때:

```
> /clear
```

또는 맥락을 명시적으로 바꾸기:
```
> 자, 이제 로그인은 끝났어.
> 다음으로 대시보드 페이지 만들자.
> 처음부터 설명할게...
```

### 4. 대화 세션 관리 패턴

```
┌─────────────────────────────────────────────────────────┐
│                      작업 시작                           │
│  "오늘 할 일: 사용자 프로필 페이지 만들기"                    │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  1단계: 계획                                             │
│  > 프로필 페이지에 어떤 기능이 필요할까?                     │
│                                                         │
│  2단계: 기본 구조                                         │
│  > 프로필 페이지 컴포넌트 만들어줘                          │
│                                                         │
│  3단계: 세부 기능                                         │
│  > 프로필 사진 업로드 기능 추가해줘                         │
│  > 정보 수정 폼 추가해줘                                   │
│                                                         │
│  4단계: 마무리                                           │
│  > 지금까지 만든 거 테스트해줘                             │
│  > 코드 정리하고 커밋 메시지 작성해줘                       │
│                                                         │
├─────────────────────────────────────────────────────────┤
│                      작업 완료                           │
│  /clear 또는 새 대화 시작                                 │
└─────────────────────────────────────────────────────────┘
```

---

## 실제 대화 예시

### 예시 1: CLAUDE.md 효과 확인

**CLAUDE.md 설정 전:**
```
> 버튼 만들어줘

// Button.js
class Button extends React.Component {
  render() {
    return <button style={{padding: '10px'}}>{this.props.text}</button>
  }
}
```
(클래스 컴포넌트 + 인라인 스타일 사용 - 원하지 않는 패턴)

**CLAUDE.md 설정 후:**
```markdown
# CLAUDE.md
- 함수형 컴포넌트만 사용
- Tailwind CSS로 스타일링
- TypeScript 사용
```

```
> 버튼 만들어줘

// Button.tsx
interface ButtonProps {
  children: React.ReactNode;
  onClick?: () => void;
}

// 버튼 컴포넌트 - 클릭 이벤트를 처리합니다
export function Button({ children, onClick }: ButtonProps) {
  return (
    <button
      onClick={onClick}
      className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
    >
      {children}
    </button>
  );
}
```
(함수형 + TypeScript + Tailwind - 설정한 대로!)

### 예시 2: 메모리 저장 활용

```
> # API 엔드포인트 베이스 URL은 /api/v2야

CLAUDE.md에 저장했습니다:
"API 엔드포인트 베이스 URL은 /api/v2야"
```

나중에:
```
> 유저 목록 가져오는 함수 만들어줘

// fetchUsers 함수 - 유저 목록을 가져옵니다
export async function fetchUsers() {
  const response = await fetch('/api/v2/users');  // 저장된 베이스 URL 사용
  return response.json();
}
```

### 예시 3: 맥락 유지하며 작업하기

```
> 할 일 목록 앱 만들고 있어.
> 먼저 할 일 추가 기능부터 만들자.

[Claude가 addTodo 함수 작성]
```

```
> 좋아! 이제 삭제 기능 추가해줘.

[Claude가 addTodo와 일관된 스타일로 deleteTodo 작성]
```

```
> 완료 체크 기능도 추가해줘.

[Claude가 같은 패턴으로 toggleTodo 작성]
```

맥락이 유지되어 일관된 코드가 작성됩니다!

### 예시 4: 맥락을 잃었을 때

```
> 아까 만든 함수에 에러 처리 추가해줘

죄송합니다, 어떤 함수를 말씀하시는 건지 확인이 필요합니다.
현재 대화에서 여러 함수를 다뤘는데요:
1. fetchUsers
2. createUser
3. deleteUser
어떤 함수에 에러 처리를 추가할까요?
```

**해결:**
```
> fetchUsers 함수에 에러 처리 추가해줘.
> try-catch로 감싸고, 에러 시 콘솔에 로그 남기고 빈 배열 반환해.

// 수정된 fetchUsers
export async function fetchUsers() {
  try {
    const response = await fetch('/api/v2/users');
    if (!response.ok) throw new Error('Failed to fetch');
    return response.json();
  } catch (error) {
    console.error('유저 목록 조회 실패:', error);
    return [];
  }
}
```

---

## 🎯 미니 퀴즈

### 퀴즈 1
다음 중 컨텍스트 윈도우에 대한 설명으로 **틀린** 것은?

A) 대화 내용이 쌓이는 공간이다
B) 용량이 무제한이다
C) 가득 차면 오래된 내용부터 잊어버린다
D) CLAUDE.md도 컨텍스트에 포함된다

<details>
<summary>정답 보기</summary>

**정답: B**

컨텍스트 윈도우는 **제한된 용량**을 가지고 있습니다.
Claude의 경우 약 200,000 토큰입니다.

</details>

### 퀴즈 2
CLAUDE.md 파일의 위치로 **올바른** 것은?

A) src/CLAUDE.md
B) 프로젝트 루트의 CLAUDE.md
C) node_modules/CLAUDE.md
D) .vscode/CLAUDE.md

<details>
<summary>정답 보기</summary>

**정답: B**

CLAUDE.md는 **프로젝트 루트**(최상위 폴더)에 있어야 합니다.
src/ 안에 있으면 자동으로 읽히지 않습니다.

</details>

### 퀴즈 3
다음 중 `#` 접두사 사용법으로 **올바른** 것은?

A) `#이거 기억해` (공백 없음)
B) `# 이거 기억해` (공백 있음)
C) `## 이거 기억해` (# 두 개)
D) `remember: 이거 기억해`

<details>
<summary>정답 보기</summary>

**정답: B**

`#` 뒤에 **공백**을 넣어야 합니다.
`# 이거 기억해` (O)
`#이거 기억해` (X)

</details>

---

## 📝 실습 과제

### 🟢 초급: CLAUDE.md 만들기

```
> CLAUDE.md 파일 만들어줘.
> 이 프로젝트는 React 웹앱이고,
> 한국어 주석을 사용하고,
> Tailwind CSS로 스타일링해.
```

**예상 결과:** CLAUDE.md 파일 생성됨

### 🟡 중급: 메모리 저장 및 테스트

```
# 1단계: 규칙 저장
> # 변수명은 한국어 설명을 주석으로 달아줘
> # 함수는 화살표 함수로 작성해

# 2단계: 저장 확인
> @CLAUDE.md 내용 보여줘

# 3단계: 규칙 테스트
> 이메일 검증 함수 만들어줘
```

**예상 결과:** 저장된 규칙대로 함수가 작성됨

### 🔴 고급: 전문가용 CLAUDE.md 작성

```
> CLAUDE.md 만들어줘. 다음 내용 포함:
> - 프로젝트 구조 설명
> - 네이밍 컨벤션 (파일, 변수, 함수, 컴포넌트)
> - 금지 패턴 목록
> - 선호하는 라이브러리 목록
> - 테스트 작성 규칙
> - Git 커밋 메시지 형식
```

---

## 🏆 도전 과제

### 도전 1: 팀 CLAUDE.md 작성하기

가상의 팀 프로젝트를 위한 CLAUDE.md를 작성해보세요.

**요구사항:**
- 프로젝트 개요
- 팀 컨벤션
- 브랜치 전략
- 코드 리뷰 규칙
- 배포 프로세스

### 도전 2: 컨텍스트 관리 실험

긴 대화를 진행하면서 컨텍스트 한계를 실험해보세요.

```
# 1단계: 정보 제공
> 이 프로젝트는 쇼핑몰이야. (상세한 요구사항 나열)

# 2단계: 여러 기능 구현 요청

# 3단계: 초반 내용 기억하는지 테스트
> 이 프로젝트가 뭐였지?
> 첫 번째로 말한 요구사항이 뭐였어?
```

컨텍스트 한계를 체감하고 대처법을 연습하세요.

---

## 🚨 흔한 에러와 해결법

### 에러 1: "Claude가 규칙을 안 따라"

**상황:** CLAUDE.md에 규칙을 썼는데 Claude가 무시함

**원인:** 파일 위치가 잘못되었거나, 내용이 모호함

**해결:**
```
> CLAUDE.md 어디 있어?
> @CLAUDE.md 내용 보여줘
```

파일이 프로젝트 루트에 있는지 확인하세요.
규칙이 모호하면 구체적으로 수정하세요.

### 에러 2: "맥락을 잊어버림"

**상황:** 아까 말한 내용을 Claude가 모름

**원인:** 대화가 너무 길어졌거나, 새 대화를 시작함

**해결:**
```
> 아까 우리가 뭘 하고 있었는지 요약해줘
```

또는 중요한 맥락을 다시 언급:
```
> 로그인 기능 만들고 있었어. @src/login.js 이 파일.
> 아까 만든 validateEmail 함수에 도메인 검증 추가해줘.
```

### 에러 3: "#이 안 먹힘"

**상황:** `#`으로 저장했는데 반영 안 됨

**원인:** 문법 오류 또는 접두사 뒤에 공백 필요

**해결:**
`#` 바로 뒤에 공백을 넣으세요:
```
> # 한국어로 대답해 (O)
> #한국어로 대답해 (X)
```

### 에러 4: "CLAUDE.md가 너무 길어서 느려짐"

**상황:** 응답이 느리고, 규칙이 잘 적용 안 됨

**원인:** CLAUDE.md가 너무 길어서 컨텍스트를 많이 차지

**해결:**
- 규칙을 핵심 10-15개로 줄이기
- 덜 중요한 규칙 삭제
- 가장 중요한 규칙을 위에 배치

---

## ❌ 자주 하는 실수

### 1. CLAUDE.md 위치 잘못 놓기
`src/CLAUDE.md`가 아니라 **프로젝트 루트**에 있어야 합니다.

```
my-project/           # 여기!
├── CLAUDE.md         ← 올바른 위치
├── src/
│   └── CLAUDE.md     ← 잘못된 위치
```

### 2. 규칙을 너무 많이 넣기
규칙이 100개면 Claude도 혼란스럽습니다. 핵심 10-15개만 넣으세요.

> 💡 **비전공자 팁**
>
> **"적을수록 좋다"** 원칙을 기억하세요.
>
> 규칙 5개를 잘 따르는 게
> 규칙 50개를 대충 따르는 것보다 낫습니다.

### 3. 모호한 규칙 작성
```markdown
# 나쁜 예
- 코드를 예쁘게 써줘
- 변수명 잘 지어줘

# 좋은 예
- 함수는 20줄 이내로
- 변수명은 camelCase, 역할을 설명하는 이름 사용
```

### 4. 맥락 제공 없이 요청하기
```
# 나쁜 예
> 고쳐줘

# 좋은 예
> @src/login.js 이 파일의 42번 줄 에러 고쳐줘
> validateEmail 함수에서 도메인 검증이 안 돼
```

### 5. 대화가 길어져도 정리 안 하기

긴 대화에서는 중간중간 정리가 필요합니다:
```
> 지금까지 한 거 정리해줘
> 다음에 할 거 목록 만들어줘
```

---

## 🖼️ 예상 화면

### CLAUDE.md 생성 후

```
> # 이 프로젝트는 Next.js를 사용해

CLAUDE.md에 저장했습니다:
"이 프로젝트는 Next.js를 사용해"

이제 코드 작성 시 Next.js 패턴을 사용하겠습니다.
```

### 규칙이 적용된 코드

```
> 버튼 만들어줘

// Button.tsx
// 버튼 컴포넌트 - 클릭 시 동작을 처리합니다
interface ButtonProps {
  children: React.ReactNode;
  onClick?: () => void;
  variant?: 'primary' | 'secondary';
}

export function Button({
  children,
  onClick,
  variant = 'primary'
}: ButtonProps) {
  // 버튼 스타일 - variant에 따라 다른 스타일 적용
  const baseStyle = "px-4 py-2 rounded font-medium transition-colors";
  const variantStyle = variant === 'primary'
    ? "bg-blue-500 text-white hover:bg-blue-600"
    : "bg-gray-200 text-gray-800 hover:bg-gray-300";

  return (
    <button
      onClick={onClick}
      className={`${baseStyle} ${variantStyle}`}
    >
      {children}
    </button>
  );
}
```

(TypeScript, 한국어 주석, Tailwind CSS가 모두 적용됨!)

---

## 미니 프로젝트: 나만의 CLAUDE.md 만들기

자신만의 프로젝트 가이드를 만들어봅니다.

### 🟢 쉬움: 기본 설정

```
> CLAUDE.md 만들어줘.
> - 한국어로 대답
> - 코드에 주석 달기
> - 에러 처리 포함
```

### 🟡 보통: 상세 설정

```
> CLAUDE.md에 이 내용 넣어줘:
> - 프로젝트: 개인 블로그
> - 기술: React, TypeScript, Tailwind
> - 스타일: 함수형 컴포넌트, 커스텀 훅 분리
> - 규칙: 에러 처리 항상 포함, 로딩 상태 표시
```

### 🔴 도전: 전문가 설정

```
> CLAUDE.md 만들어줘. 다음 내용 포함:
> - 프로젝트 구조 설명 (각 폴더 역할)
> - 네이밍 컨벤션 (파일명, 변수, 함수, 컴포넌트)
> - 금지 패턴 목록 (any 타입, console.log 등)
> - 선호하는 라이브러리 목록
> - 테스트 작성 규칙
> - API 호출 패턴
> - 에러 처리 패턴
```

---

## 🆘 안 되면?

| 증상 | 해결 방법 |
|------|----------|
| CLAUDE.md가 안 읽힘 | 파일 위치 확인 (프로젝트 루트) |
| 규칙이 안 지켜짐 | 규칙을 더 구체적으로 작성 |
| 맥락을 잊어버림 | 핵심 내용 다시 언급 |
| #이 작동 안 함 | # 뒤에 공백 추가 |
| 응답이 느림 | CLAUDE.md 길이 줄이기 |
| 일관성 없는 코드 | 기존 파일 참조하기: `@src/Button.tsx랑 같은 스타일로` |

---

## 📚 관련 용어 사전

| 용어 | 설명 |
|------|------|
| **컨텍스트 (Context)** | 대화의 맥락, 배경 정보 |
| **토큰 (Token)** | AI가 텍스트를 처리하는 최소 단위 |
| **컨텍스트 윈도우** | 대화 내용이 저장되는 공간 (용량 제한 있음) |
| **프롬프트 (Prompt)** | AI에게 보내는 요청/지시 |
| **메모리** | 대화 간에 유지되는 정보 (CLAUDE.md) |

---

## ✅ 체크리스트

학습을 마치기 전에 확인하세요:

- [ ] 컨텍스트가 무엇인지 안다
- [ ] 컨텍스트 윈도우의 한계를 이해한다
- [ ] CLAUDE.md 파일을 만들 수 있다
- [ ] CLAUDE.md 베스트 프랙티스를 안다
- [ ] # 접두사로 메모리에 저장할 수 있다
- [ ] 긴 대화에서 맥락을 유지하는 법을 안다
- [ ] 컨텍스트 한계 대처법을 안다

---

## 🎉 Part 2 시작!

축하합니다! Part 2 (핵심 기술)에 진입했습니다.

Part 1에서는 Claude Code의 기본을 배웠습니다.
Part 2에서는 Claude를 더 효과적으로 활용하는 방법을 배웁니다.

**지금까지 배운 것:**
- 설치와 기본 사용법
- 터미널 명령어
- 프로젝트 구조
- 컨텍스트와 메모리 ← 현재

**앞으로 배울 것:**
- 효과적인 프롬프팅
- 코드 탐색
- 디버깅

---

## ➡️ 다음 단계 미리보기

다음 챕터에서는 **효과적인 프롬프팅 기법**을 학습합니다.

배우게 될 내용:
- 프롬프팅의 과학적 원리
- 다양한 프롬프팅 패턴
- 상황별 최적의 프롬프트 작성법
- Plan 모드와 Ultrathink 활용
- 프롬프트 디버깅

[Chapter 08: 효과적인 프롬프팅](../Chapter08-Effective-Prompting/README.ko.md)으로 진행하십시오.

---

## 📖 더 알아보기

### 추천 자료

**공식 문서:**
- [Claude Code Memory 가이드](https://docs.anthropic.com/en/docs/claude-code/memory) - CLAUDE.md 설정 방법
- [Claude 컨텍스트 윈도우 이해하기](https://docs.anthropic.com/en/docs/build-with-claude/context-windows) - 토큰과 컨텍스트 관리

**영상 자료:**
- [Context Window 설명 (YouTube)](https://www.youtube.com/results?search_query=LLM+context+window+explained) - 컨텍스트 윈도우 개념 설명
- [Claude Code CLAUDE.md 활용법 (YouTube)](https://www.youtube.com/results?search_query=claude+code+CLAUDE.md+tutorial) - CLAUDE.md 실전 활용

**읽을거리:**
- [Anthropic - Long Context Prompting Tips](https://docs.anthropic.com/en/docs/build-with-claude/prompt-caching) - 긴 컨텍스트 관리 팁
- [Understanding Tokens in AI](https://platform.openai.com/tokenizer) - 토큰 이해하기 (OpenAI 토크나이저)

**관련 도구:**
- [Tokenizer Tool](https://platform.openai.com/tokenizer) - 토큰 수 계산 도구
- [Claude Code GitHub](https://github.com/anthropics/claude-code) - 공식 저장소

---

<p align="center">
  <sub>Built with ❤️ by <a href="https://hashed.com">Hashed</a></sub>
</p>
